diff -up libhugetlbfs-2.16/Makefile.s390 libhugetlbfs-2.16/Makefile
--- libhugetlbfs-2.16/Makefile.s390	2013-05-12 08:49:28.160883455 +0200
+++ libhugetlbfs-2.16/Makefile	2013-05-12 08:49:39.586906994 +0200
@@ -84,17 +84,26 @@ CFLAGS += -DNO_ELFLINK
 else
 ifeq ($(ARCH),s390x)
 CC64 = gcc -m64
-CC32 = gcc -m31
-ELF32 = elf_s390
 ELF64 = elf64_s390
 TMPLIB64 = lib64
 TMPLIB32 = lib
 CUSTOM_LDSCRIPTS = no
+ifneq ($(BUILDTYPE),NATIVEONLY)
+CC32 = gcc -m31
+ELF32 = elf_s390
+endif
+else
+ifeq ($(ARCH),s390)
+CC32 = gcc -m31
+ELF32 = elf_s390
+TMPLIB32 = lib
+CUSTOM_LDSCRIPTS = no
 else
 $(error "Unrecognized architecture ($(ARCH))")
 endif
 endif
 endif
+endif
 endif
 endif
 endif
